# 元气助手 - Chrome扩展 🔧

一个聚合日常网页浏览中最常用实用工具的Chrome浏览器扩展。

## ✨ 主要功能

### 📋 复制自由
- **文本选择解锁** - 突破网页禁止选择文本的限制
- **右键菜单恢复** - 恢复被禁用的右键菜单功能
- **快捷键恢复** - 恢复Ctrl+C、Ctrl+A等被禁用的快捷键

### 🔗 链接管理  
- **新标签页打开** - 外部链接自动在新标签页打开，带视觉标识
- **链接预览** - 鼠标悬停即可预览链接内容
- **链接提取** - 一键提取页面所有链接，支持分类和批量操作

### 🎬 媒体提取
- **图片提取** - 提取页面中的所有图片资源
- **视频检测** - 检测页面中的视频内容
- **音频检测** - 检测页面中的音频内容

## 🚀 快速开始

### 安装使用

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd website_tools
   ```

2. **安装到Chrome**
   - 打开 `chrome://extensions/`
   - 启用"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择项目根目录

3. **开始使用**
   - 点击工具栏中的扩展图标
   - 访问任意网页体验功能
   - 右键点击扩展图标访问更多选项

📖 **详细安装指南：** [查看安装测试指南](docs/安装测试指南.md)

## 🎯 技术特色

### 现代化架构
- **📋 Manifest V3** - 使用最新的扩展标准
- **⚡ Service Workers** - 高效的后台处理
- **🔒 Content Scripts** - 安全的页面内容操作
- **📱 响应式设计** - 适配不同屏幕尺寸

### 用户体验
- **🎨 现代化UI** - 美观的用户界面设计
- **🌙 深色模式** - 支持系统主题自动切换
- **⚡ 快速响应** - 优化的性能和加载速度
- **♿ 无障碍访问** - 支持键盘导航和屏幕阅读器

### 安全隐私
- **🔐 最小权限** - 仅请求必要的权限
- **🛡️ 本地存储** - 所有数据本地存储，不上传
- **🔒 HTTPS传输** - 所有网络请求使用安全连接
- **👤 隐私保护** - 不收集用户个人信息

## 📁 项目结构

```
website_tools/
├── 📄 manifest.json           # 扩展配置文件
├── 📄 package.json           # 项目依赖配置
├── 📖 README.md              # 项目说明文档
├── 🗂️ assets/               # 资源文件
│   └── 🖼️ icons/           # 扩展图标
├── 📚 docs/                 # 文档目录
│   ├── 📋 功能概要说明.md    # 功能详细说明
│   ├── 🔧 development.md    # 开发指南
│   └── 📖 安装测试指南.md    # 安装和测试说明
└── 💻 src/                  # 源代码目录
    ├── 🔧 shared/           # 共享模块
    │   ├── constants.js     # 常量定义
    │   └── utils.js         # 工具函数
    ├── 🌐 background/       # 后台脚本
    │   └── service-worker.js
    ├── 📄 content/          # 内容脚本
    │   ├── main.js         # 主逻辑
    │   └── content.css     # 样式文件
    ├── 🗂️ popup/           # 弹出窗口
    │   ├── popup.html      # 界面结构
    │   ├── popup.css       # 界面样式
    │   └── popup.js        # 交互逻辑
    ├── 📋 sidepanel/       # 侧边栏面板
    │   ├── sidepanel.html  # 界面结构
    │   ├── sidepanel.css   # 界面样式
    │   └── sidepanel.js    # 交互逻辑
    └── ⚙️ options/         # 设置页面
        ├── options.html    # 界面结构
        ├── options.css     # 界面样式
        └── options.js      # 交互逻辑
```

## 🛠️ 开发信息

### 技术栈
- **JavaScript ES6+** - 现代JavaScript开发
- **Chrome Extension API** - 原生扩展API
- **CSS3** - 现代CSS特性
- **HTML5** - 语义化标记

### 开发环境
- **Chrome 88+** - 支持 Manifest V3
- **Node.js** (可选) - 用于开发工具
- **Git** - 版本控制

### 浏览器兼容性
- ✅ **Chrome 88+** - 完全支持
- ✅ **Edge 88+** - 完全支持  
- ❓ **Firefox** - 需要适配（Manifest V2）
- ❓ **Safari** - 需要适配

## ⚙️ 配置选项

### 复制自由设置
- 启用/禁用各项功能
- 强制解除模式切换
- 自动应用设置

### 链接管理设置  
- 新标签页打开规则
- 预览功能配置
- 链接类型过滤

### 媒体提取设置
- 支持的文件格式
- 最小文件尺寸
- 自动检测开关

### 白名单管理
- 排除特定网站
- 域名规则配置
- 批量导入导出

## 📊 使用统计

扩展会在本地记录以下使用统计（不上传）：
- 总使用时长
- 复制操作次数  
- 媒体提取次数
- 链接处理次数

## 🐛 问题排查

### 常见问题
1. **扩展无法加载** - 检查manifest.json语法和文件路径
2. **功能不生效** - 刷新页面或重新加载扩展
3. **权限不足** - 检查扩展权限设置
4. **性能问题** - 优化设置或清理缓存

### 获取帮助
- 📖 查看 [安装测试指南](docs/安装测试指南.md)
- 🔧 查看 [开发指南](docs/development.md) 
- 📋 查看 [功能说明](docs/功能概要说明.md)

## 🚀 开发路线图

### 🔄 正在开发
- 视频和音频媒体检测
- 链接预览功能
- 高级媒体处理功能

### 📅 计划功能
- 自定义快捷键支持
- 多语言界面
- 云同步设置
- 更多网站适配

### 💡 考虑中的功能
- 页面截图工具
- 表格数据提取
- 代码片段识别
- 网页性能分析

## 👥 贡献指南

欢迎贡献代码和建议！

1. **Fork 项目**
2. **创建功能分支** (`git checkout -b feature/AmazingFeature`)
3. **提交更改** (`git commit -m 'Add some AmazingFeature'`)
4. **推送分支** (`git push origin feature/AmazingFeature`)
5. **创建 Pull Request**

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 🙏 致谢

- Chrome Extension 开发团队
- 开源社区的贡献者们
- 测试用户的反馈和建议

---

**项目状态：** 🟢 积极开发中 | **版本：** 1.0.0 | **更新时间：** 2024年 

## 🔗 链接管理功能详解

### 功能特性
链接管理模块提供了两个独立的功能，**可以同时启用**：

1. **新标签页打开** - 外部链接自动在新标签页打开
2. **链接预览** - 悬停链接显示详细信息

### ⚡ 自动配置应用
**重要特性：** 扩展现在支持自动配置应用，无需手动操作！

- **页面刷新时**：扩展会自动读取用户配置并应用相应功能
- **首次进入页面**：根据用户的设置自动启用已配置的功能
- **配置更改时**：当用户在弹出菜单中更改设置时，扩展会实时监听并立即应用到所有已打开的标签页
- **无需重复操作**：用户只需设置一次，所有页面都会自动应用该配置

### 新标签页打开功能

#### 功能说明
当启用"新标签页打开"功能后，所有外部链接（指向不同域名的链接）将自动在新标签页中打开，而内部链接保持原有行为。外部链接会显示"↗"图标作为视觉标识。

#### 实现原理
- **自动应用**：页面加载时自动读取配置并应用
- **JavaScript事件拦截**：使用多层次事件监听器拦截点击事件
- **智能识别**：自动识别外部链接并添加视觉标识
- **不修改HTML**：不直接修改链接的`target`属性，保持页面原有结构
- **实时更新**：配置更改时立即生效，无需刷新页面

### 链接预览功能

#### 功能说明
当启用"链接预览"功能后，鼠标悬停在任意链接上时会显示链接的详细信息预览，包括链接类型（内部/外部）、URL等信息。

#### 实现原理
- **CSS样式增强**：为链接添加虚线下划线
- **悬停事件监听**：监听鼠标进入和离开事件
- **动态预览框**：实时创建和定位预览信息框

### 同时启用两个功能

当新标签页打开和链接预览功能同时启用时：
- 外部链接会显示"↗"图标并在新标签页打开
- 所有链接（包括内部和外部）都会显示预览信息
- 两个功能完全独立工作，不会相互干扰
- 用户可以独立控制每个功能的开关状态 